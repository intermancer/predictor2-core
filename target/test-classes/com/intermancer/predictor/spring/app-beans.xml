<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
       http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">
 
 
	<!-- Application beans -->
	<bean id="channelOffset" class="java.lang.Integer">
		<constructor-arg value="4" />
	</bean>
	
	<bean id="evaluator" class="com.intermancer.predictor.evaluator.AbsoluteDifferenceCE">
		<property name="channelOffset" ref="channelOffset" />
		<property name="lookAhead" value="10" />
	</bean>
	
	<bean id="totalCountListener" class="com.intermancer.predictor.feeder.TotalCountFCL" />
	
	<bean id="evaluationHoldCountListener" class="com.intermancer.predictor.feeder.EvaluationHoldCountFCL">
		<property name="threshold" value="15" />
		<property name="evaluator" ref="evaluator" />
	</bean>
	
	<bean id="outputListener" class="com.intermancer.predictor.feeder.OutputFCL">
		<property name="channelOffset" ref="channelOffset" />
	</bean>
	
	<bean id="hungryListener" class="com.intermancer.predictor.feeder.HungryCountFCL">
		<property name="threshold" value="5" />
	</bean>
	
	<bean id="fiveDayMovingAverageOrganism" class="com.intermancer.predictor.organism.BaseOrganism">
		<property name="chromosomes">
			<list>
				<bean class="com.intermancer.predictor.gene.Chromosome">
					<property name="genes">
						<list>
							<bean class="com.intermancer.predictor.gene.window.MovingSumWG">
								<property name="offsets">
									<list>
										<value>4</value>
									</list>
								</property>
								<property name="windowSize" value="5" />
							</bean>
							<bean class="com.intermancer.predictor.gene.constant.MultiplicationCG">
								<property name="offset" value="-1" />
								<property name="constant" value="5" />
								<property name="inverse" value="true" />
							</bean>
						</list>
					</property>
				</bean>
			</list>
		</property>
	</bean>
	
	<bean id="dataInputStream" class="com.intermancer.util.InputStreamResourceAdapter">
		<property name="resource">
			<bean class="org.springframework.core.io.ClassPathResource">
				<constructor-arg
						value="/com/intermancer/predictor/test/data/sp500-ascii/GSPC.TXT" />
			</bean>
		</property>
	</bean>
	
	<bean id="readerFeeder" class="com.intermancer.predictor.feeder.SimpleRF">
		<constructor-arg>
			<bean class="java.io.InputStreamReader">
				<constructor-arg ref="dataInputStream" />
			</bean>
		</constructor-arg>
		<property name="feedCycleListeners">
			<list>
				<ref bean="evaluator" />
				<ref bean="totalCountListener" />
				<ref bean="evaluationHoldCountListener" />
				<ref bean="hungryListener" />
			</list>
		</property>
		<property name="organism" ref="fiveDayMovingAverageOrganism" />
	</bean>


</beans>

